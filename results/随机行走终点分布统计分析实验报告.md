# 随机行走终点分布统计分析实验报告
雷翊烜
## 1. 实验目的
简要说明本实验的主要目标和研究内容。
本项目旨在研究二维随机行走的终点分布特性，通过统计分析和可视化方法探索随机行走的统计规律，并验证中心极限定理在该过程中的应用。
## 2. 实验原理
### 2.1 随机行走模型
描述二维随机行走的基本原理和数学模型。
在二维平面上进行对角随机行走，每一步的迭代规则为:
xn+1=x±1y+1-y士1
其中，$(x ny n)$ 表示第 n步时粒子的位置坐标，初始位置为原点(0,0)。
### 2.2 中心极限定理
解释中心极限定理及其在本实验中的应用。
中心极限定理解释
中心极限定理是概率论中极为重要的定理。它表明：对于任意一个总体，无论其分布形态如何（只要均值\mu 和方差\sigma^{2} 有限 ），当从该总体中抽取样本量为n 的样本，且n 足够大时（一般认为n \geq 30  ），样本均值\bar{X} 的抽样分布会近似服从均值为\mu 、方差为\frac{\sigma^{2}}{n} 的正态分布 。更通俗地说，大量相互独立的随机变量之和的分布近似于正态分布 。
在本实验中的应用
- 解释终点分布：在二维对角随机行走实验里，每一步在x 方向和y 方向的位移可看作是独立同分布的随机变量。以x 方向为例，每一步x 方向位移X_i 取值为 + 1 或-1 ，且P(X_i = + 1)=P(X_i = - 1)=\frac{1}{2} ，其均值\mu_{X_i}=0 ，方差\sigma_{X_i}^{2}=1 。经过n = 1000 步后，x 方向最终位移X = \sum_{i = 1}^{n}X_i ，由于n 足够大，根据中心极限定理，X 近似服从正态分布N(n\mu_{X_i},n\sigma_{X_i}^{2}) ，即X\sim N(0,1000) 。同理，y 方向最终位移也近似服从正态分布。所以，终点坐标(X,Y) 服从二维正态分布，这就解释了为什么终点分布会呈现出一定的正态分布特征 。
- 理论推导支持：在理论分析部分，运用中心极限定理推导最终落点的理论分布。通过对每一步随机变量的均值和方差计算，结合定理得出终点坐标的分布形式，为实验结果的分析提供了理论依据，验证了随机行走过程中终点分布符合正态分布这一统计规律 。
## 3. 实验结果
### 3.1 终点分布可视化
[插入终点分布散点图]
- 描述观察到的分布特征
- 分析分布的对称性和范围
- ![image](https://github.com/user-attachments/assets/5e7401e3-bc04-4565-85b8-e07693c97575)
分布特征
- Endpoint Distribution Scatter Plot（终点分布散点图）：散点呈现出围绕原点较为分散的分布状态，无明显的聚集趋势或特定形状。这表明随机行走的终点在二维平面上的位置具有随机性，没有集中在某些特定区域，符合随机过程的特性。
- X - Coordinate Distribution Histogram（X坐标分布直方图）：直方图呈现出中间高、两边低的钟形形态，与上方标注的理论正态分布曲线较为吻合。说明X坐标的分布近似服从正态分布，即大部分终点的X坐标集中在均值附近，远离均值的X坐标出现的频率较低 。
分布的对称性和范围
- 对称性
- 终点分布散点图：从直观上看，散点在平面上没有明显的对称轴，关于原点、横轴或纵轴都不对称，进一步体现了终点位置的随机性。
- X坐标分布直方图：该直方图以均值为中心呈现左右对称的形态，与理论正态分布的对称性一致，说明X坐标在分布上具有良好的对称性 。
- 范围
- 终点分布散点图：在横轴（X轴）方向上，散点范围大致从 - 100到100；纵轴（Y轴）方向上，范围也大致从 - 100到100 。表明随机行走终点在二维平面上的覆盖范围有一定界限，但整体分布较为宽泛。
- X坐标分布直方图：X坐标的取值范围从 - 100左右到100左右 ，大部分数据集中在 - 50到50之间，体现了正态分布中数据集中在均值附近一定标准差范围内的特点。
### 3.2 统计分析结果
[插入X坐标分布直方图]
- 样本均值：
- 样本方差：
- 分析结果与理论预期的符合程度
![image](https://github.com/user-attachments/assets/9622e6c1-4bcf-44fa-84de-6cbd9d253c8d)
样本均值
从图中看，直方图最高处（即频率最大处）对应的X值接近0 。在正态分布中，均值所在位置通常是概率密度（频率）最大处，所以大致估算样本均值\bar{x}\approx0 。
样本方差
对于正态分布 。从图中观察，大概95%的数据落在-50到50之间（假设 ），若均值\mu = 0 ，那么2\times2\sigma\approx50 - (- 50)=100 ，即\sigma\approx25 ，样本方差s^{2}\approx\sigma^{2}=25^{2} = 625 。
分析结果与理论预期的符合程度
从图表视觉上，直方图和理论正态分布曲线形状较为相似，峰值位置基本对应，说明估算的样本均值接近理论均值（正态分布均值 ）。样本方差估算值也能大致体现数据的离散程度与理论正态分布的相似性，在一定程度上说明结果与理论预期较为符合，即随机行走终点X坐标分布近似符合正态分布这一理论预期，但这只是基于图表直观的大致分析，准确判断需真实数据计算验证。
## 4. 理论分析
### 4.1 单步随机行走分析
分析单步随机行走的概率分布特征。
在二维平面的对角随机行走中，单步随机行走具有以下概率分布特征：
移动方向的概率分布
从坐标(x_n, y_n) 到(x_{n + 1}, y_{n + 1}) ，根据移动规则x_{n + 1} = x_n\pm1 ，y_{n + 1} = y_n\pm1 ，存在4种可能的移动方向：
- 向右上方：(x_{n + 1} = x_n + 1, y_{n + 1} = y_n + 1)
- 向右下方：(x_{n + 1} = x_n + 1, y_{n + 1} = y_n - 1)
- 向左上方：(x_{n + 1} = x_n - 1, y_{n + 1} = y_n + 1)
- 向左下方：(x_{n + 1} = x_n - 1, y_{n + 1} = y_n - 1)
由于移动方向是随机选择，且不存在偏向性因素，所以每种移动方向出现的概率相等，均为\frac{1}{4}=0.25 ，呈现均匀分布的特点 。
坐标变化量的概率分布
- x坐标变化量：设x坐标的变化量\Delta x = x_{n + 1}-x_n ，其取值只有+1 和-1 两种。在4种移动方向中，有2种情况会使\Delta x = + 1 （向右上方、向右下方移动 ），另外2种情况会使\Delta x = - 1 （向左上方、向左下方移动 ）。所以P(\Delta x = + 1)=\frac{2}{4}=\frac{1}{2} ，P(\Delta x = - 1)=\frac{2}{4}=\frac{1}{2} ，x坐标变化量服从两点分布 。
- y坐标变化量：同理，设y坐标的变化量\Delta y = y_{n + 1}-y_n ，其取值也只有+1 和-1 ，且P(\Delta y = + 1)=\frac{1}{2} ，P(\Delta y = - 1)=\frac{1}{2} ，同样服从两点分布 。
位移距离变化的概率分布
设粒子在第n步时距离原点的位移为r_n=\sqrt{x_n^2 + y_n^2} ，第n + 1步时位移为r_{n + 1}=\sqrt{x_{n + 1}^2 + y_{n + 1}^2} 。从原点出发的第一步，无论选择哪个方向移动，位移r_1=\sqrt{( \pm 1)^2+( \pm 1)^2}=\sqrt{2} ，即第一步移动后距离原点的位移为\sqrt{2} 的概率为1 。随着步数增加，位移距离变化的概率分布会更复杂，但基于单步移动的等概率方向选择，每一步都影响着后续位移距离变化的概率情况 。...
### 4.2 终点分布的理论推导
结合中心极限定理，推导终点分布的理论形式。
中心极限定理回顾
中心极限定理表明：设从均值为\mu、方差为\sigma^{2}（有限）的总体中抽取样本量为n的样本，当n充分大时（通常n\geq30 ） ，样本均值\bar{X}的抽样分布近似服从均值为\mu、方差为\frac{\sigma^{2}}{n}的正态分布 。对于独立同分布的随机变量序列X_1,X_2,\cdots,X_n ，\sum_{i = 1}^{n}X_i也渐近服从正态分布。
随机行走模型分析
在二维平面的对角随机行走中，从原点(0, 0)出发，每一步的移动规则为x_{n + 1}=x_n\pm1，y_{n + 1}=y_n\pm1 。设每一步在x方向的位移为X_i ，在y方向的位移为Y_i（i = 1, 2, \cdots, n ，这里n = 1000步 ）。
### 4.3 实验结果与理论的对比
比较实验观测和理论预测的异同。
相同点
- 整体分布趋势：从“X - Coordinate Distribution Histogram”（X坐标分布直方图）来看，实验观测得到的X坐标分布呈现中间高、两边低的形态，与基于中心极限定理理论预测的正态分布曲线整体趋势相符，说明在整体分布特征上，实验观测与理论预期具有一致性，都体现出随机行走终点X坐标近似正态分布的特点。
- 对称性：实验观测的X坐标分布直方图以及理论正态分布曲线均具有关于均值的对称性，表明在这一关键特征上，两者相契合，符合正态分布的基本性质。
## 5. 讨论与结论
### 5.1 主要发现
总结实验的主要发现和结论。
主要发现
终点分布特征：通过模拟1000次1000步的随机行走，终点分布散点图显示终点在二维平面上分布较为分散，无明显规律，体现了随机行走最终位置的随机性。
坐标分布规律：X坐标分布直方图呈现出中间高、两边低的形态，与理论正态分布曲线的趋势大致相符但在具体数值上存在一定偏差即直方图的柱形高度与理论曲线不完全重合。
结论
- 理论验证情况：实验成功模拟了二维随机行走过程，在一定程度上验证了随机行走移动方向和最终位置的随机性。基于中心极限定理对终点分布的理论预测，即终点X坐标近似服从正态分布，在实验观测中得到了部分支持，但由于实验存在一定误差，导致与理论预期存在细节差异。
- 统计特性认知：本实验初步探索了二维随机行走轨迹的统计特性，包括终点分布和坐标分布等方面。然而，对于位移平方分布等更深入的统计规律，以及实验结果与理论预期的精确符合程度，还需要进一步的分析和验证。
### 5.2 实验误差分析
分析可能的误差来源及其影响。
模拟次数有限产生的误差
- 误差来源：实验仅进行了1000次随机行走模拟。依据大数定律，模拟次数越多，结果越趋近理论值。有限的模拟次数难以涵盖所有随机情况，存在偶然性。
- 影响：在分析终点分布和计算统计量时，会使结果偏离理论值。如X坐标分布直方图与理论正态分布曲线有偏差，可能是模拟次数不足，无法准确呈现理论概率分布，导致对随机行走统计特性估计不准。
步数不足带来的误差
### 5.3 改进建议
提出实验改进的建议。
增加模拟次数
目前实验模拟了1000次随机行走，可大幅提升至10000次甚至更多。更多的模拟次数能让结果更趋近理论值，减少因模拟次数有限产生的偶然误差，使终点分布、坐标分布等统计结果更精准地反映随机行走真实特性。
提升步数
虽然1000步在一定程度上符合中心极限定理要求，但可进一步增加至5000步或更多。步数增多能让随机行走更充分展现渐近特性，使终点分布更符合理论预期的二维正态分布，更精确验证相关理论。
## 6. 参考文献
列出参考的文献和资料。
《python物理建模初学者指南》第一版第六章
